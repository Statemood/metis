#! /bin/bash

# ------------------------------------------
#
# Created by Statemood, 2014.01.14 17:30
# Updated by Statemood, 2014.01.14 1800
#            Statemood@gmail.com
#
# Project metis:
#   http://github.com/Statemood/metis-2.1
# ------------------------------------------

. $(dirname $0)/Load || exit 1

load metis:cfg:settings
load metis:fun:default
load metis:fun:ge
load metis:fun:gt
load metis:fun:check

ftmp create keymatch usr_auth usr_chio mth_auth chk_auth srv_info cmd_temp cmd_list

for args in "$@"
do
    case $arg in
        -c|--cmd)
            command="$2"
            log   info   "$command"
            check input  "$command"
            check syntax "$command"
            check perm   "$command"
            shift 2
            ;;

        -d|--download)
            check input  "$2"
            server=`echo "$2" | awk -F ':' '{print $1}'`
            source=`echo "$2" | awk -F ':' '{print $2}'`
            saveto="$3"

            check 
            check exist  $saveto
            

        -f|--file)
        -g|--group)
        -i|--info)
        -l|--list)
        -L|--login
        -o|--option)
        -s|--search)
        -S|--server)
        -t|--transmission)
        -u|--upload)
        -v|--version)
        --user)
        --host)
        --port)
        --edit)
        --add)
        --del)
            
        --log)
            msg log gt
            ;;
        --help)
            msg help gt
            ;;
    esac
done
